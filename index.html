<!DOCTYPE html>
<html>
<head>
    <style>
        #game-board {
            position: relative;
            height: 300px;
            width: 300px;
            border: 1px solid black;
        }
        .dot {
            position: absolute;
            height: 10px;
            width: 10px;
            background-color: #000;
        }
    </style>
</head>
<body>
    <div id="game-board"></div>
    <button id="btn-up">UP</button>
    <button id="btn-down">DOWN</button>
    <button id="btn-left">LEFT</button>
    <button id="btn-right">RIGHT</button>
    <script>
        var dotSize = 10;
        var gameBoardSize = 300;
        var direction = 'right';
        var snake = [{ top: 150, left: 150 }];
        var apple = null;

        function updateSnake() {
            var head = Object.assign({}, snake[0]); 
            switch(direction) {
                case 'right':
                    head.left += dotSize;
                    break;
                case 'left':
                    head.left -= dotSize;
                    break;
                case 'up':
                    head.top -= dotSize;
                    break;
                case 'down':
                    head.top += dotSize;
                    break;
            }
            snake.unshift(head); 

            if (apple && apple.top === head.top && apple.left === head.left) { 
                apple = null; 
            } else { 
                snake.pop();
            }

            if (head.left < 0 || head.right < 0 || head.left >= gameBoardSize || head.top >= gameBoardSize) {
                snake = [{ top: 150, left: 150 }]; 
                direction = 'right';
            }
        }

        function updateApple() {
            if (apple === null) { 
                apple = {
                    top: Math.floor(Math.random() * gameBoardSize / dotSize) * dotSize,
                    left: Math.floor(Math.random() * gameBoardSize / dotSize) * dotSize
                };
            }
        }

        function draw() {
            var gameBoard = document.getElementById('game-board');
            gameBoard.innerHTML = '';
            snake.forEach(function(dot) {
                var dotElem = document.createElement('div');
                dotElem.className = 'dot';
                dotElem.style.top = `${dot.top}px`;
                dotElem.style.left = `${dot.left}px`;
                gameBoard.appendChild(dotElem);
            });
            if (apple !== null) {
                var appleElem = document.createElement('div');
                appleElem.className = 'dot';
                appleElem.style.top = `${apple.top}px`;
                appleElem.style.left = `${apple.left}px`;
                appleElem.style.backgroundColor = 'red';
                gameBoard.appendChild(appleElem);
            }
        }

        setInterval(function() {
            updateSnake();
            updateApple();
            draw();
        }, 200);

        document.getElementById('btn-up').addEventListener('click', function() {
            if (direction !== 'down') direction = 'up';
        });

        document.getElementById('btn-down').addEventListener('click', function() {
            if (direction !== 'up') direction = 'down';
        });

        document.getElementById('btn-left').addEventListener('click', function() {
            if (direction !== 'right') direction = 'left';
        });

        document.getElementById('btn-right').addEventListener('click', function() {
            if (direction !== 'left') direction = 'right';
        });
    </script>
</body>
</html>
